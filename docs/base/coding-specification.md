# 编码规范

## 为什么需要代码规范

1. 代码规范不是强制的，也就是你不遵循代码规范写出来的代码运行也是完全没有问题的
2. 代码规范目的是方便团队形成一个统一的代码风格，提高代码的可读性，规范性和统一性。本规范将从命名规范，注释规范，代码风格和 Go 语言提供的常用的工具这几个方面做一个说明。
3. 规范并不是唯一的，也就是说理论上每个公司都可以制定自己的规范，不过一般来说整体上规范差异不会很大。

## 命名规范

命名是代码规范中很重要的一部分，统一的命名规则有利于提高的代码的可读性，好的命名仅仅通过命名就可以获取到足够多的信息

* 当命名（包括常量、变量、类型、函数名、结构字段等等）以一个**大写字母开头**，如：Group1，那么使用这种形式的标识符的对象就可以被**外部包**的代码所使用（客户端程序需要先导入这个包），这被称为导出（像面向对象语言中的 public）
* 命名如果以**小写字母开头**，则对包外是**不可见**的，但是他们在整个包的内部是可见并且可用的（像面向对象语言中的 private ）

### 包名

保持 **package 的名字**和**目录**保持**一致**，尽量采取有意义的包名，简短，有意义，尽量和标准库不要冲突。包名应该为**小写**单词，不要使用下划线或者混合大小写。

```go
package clac

func add(a, b int) int {
    return a + b
}
...
```

### 文件名

尽量采取有意义的文件名，简短，有意义，应该为**小写**单词，使用**下划线**分隔各个单词

```go
user_model.go
```

### 结构体命名

* 采用驼峰命名法，首字母根据访问控制大写或者小写
* `struct` 声明和初始化格式采用多行

```go
// 多行声明
type User struct{
    Username  string
    Email     string
    age       number
}
 
// 多行初始化
u := User{
    Username: "bobby",
    Email:    "shibin@xxx.com",
    age: 17
}
```

### 接口命名

* 接口命名规则和结构体一样
* 单个函数的结构提名以 `er` 最为后缀，例如 `Reader` 、`Writer`

```ts
type Reader interface {
        Read(p []byte) (n int, err error)
}
```

### 变量命名

遵循驼峰法， 首字母根据访问控制原则大写或者小写。但遇到特有名词时，需要遵循以下规则：

* 如果变量为私有，且特有名词为首个单词，则使用小写，如 `apiClient`
* 其它情况都应当使用该名词原有的写法，如 `APIClient`、`repoID`、`UserID`
  * 错误示例：`UrlArray`，应该写成 `urlArray` 或者 `URLArray`
* 若变量类型为 `bool` 类型，则名称应以 `Has`, `Is`, `Can` 或 `Allow` 开头

### 常量命名

全部大写字母组成，并使用下划线分割

```go
const APP_VERSION = "1.0"
```

## 注释